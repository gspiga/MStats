stu <- c(1:25, 1:15, 1:20, 1:40) # vector for female student id in each school
smokr <- rep(c(1, 0,1,0,1,0,1,0), times = c(10, 15, 3, 12, 6, 14, 27, 13))
smoker_df <- data.frame(sch, stu, smokr) # make dataframe
# From discussion
# Estimate of proportion
p_hat <- sum(Mi*(count_smoker/mi))/sum(Mi)   #same as above
# Standard error for proportion:
M_bar <- mean(Mi)
si2 <- aggregate(smoker~school, data=smokerData, FUN=var)$smoker
# From discussion
# Estimate of proportion
p_hat <- sum(Mi*(count_smoker/mi))/sum(Mi)   #same as above
# Standard error for proportion:
M_bar <- mean(Mi)
si2 <- aggregate(smokr~sch, data=smoker_df, FUN=var)$smoker
MSW <- sum(si2*(mi-1))/(sum(mi) - n)   #estimated MSW
MSW
S2 <- sum((smokerData$smoker - p_hat)^2)/(sum(mi) - 1)   #estimate S2
S2 <- sum((smoker_df$smoker - p_hat)^2)/(sum(mi) - 1)   #estimate S2
# From discussion
# Estimate of proportion
p_hat <- sum(Mi*(count_smoker/mi))/sum(Mi)   #same as above
# Standard error for proportion:
M_bar <- mean(Mi)
si2 <- aggregate(smokr~sch, data=smoker_df, FUN=var)$smoker
MSW <- sum(si2*(mi-1))/(sum(mi) - n)   #estimated MSW
MSW
S2 <- sum((smoker_df$smoker - p_hat)^2)/(sum(mi) - 1)   #estimate S2
S2
Ra2 <- 1 - MSW/S2   #estimated Ra2
Ra2
N <- 35   #number of wards at new hospital
M_bar <- mean(Mi)   #estimate the mean ward size by the wards in our sample
C <- 300 #budget
c1 <- 50  #cost of psu
c2 <- 0.5   #cost of ssu
#Guidelines for number of psus and ssus
m_opt <- sqrt((c1/c2)*((M_bar*(N-1))/(M_bar*N-1))*((1-Ra2)/Ra2))
m_opt
n_opt <- C/(c1 + c2*m_opt)
n_opt
smoker_df
# From discussion
# Estimate of proportion
p_hat <- sum(Mi*(count_smoker/mi))/sum(Mi)   #same as above
# Standard error for proportion:
M_bar <- mean(Mi)
si2 <- aggregate(smokr~sch, data=smoker_df, FUN=var)$smoker
MSW <- sum(si2*(mi-1))/(sum(mi) - n)   #estimated MSW
MSW
S2 <- sum((smoker_df$smoker - p_hat)^2)/(sum(mi) - 1)   #estimate S2
S2
Ra2 <- 1 - MSW/S2   #estimated Ra2
Ra2
N <- 35   #number of wards at new hospital
M_bar <- mean(Mi)   #estimate the mean ward size by the wards in our sample
C <- 300 #budget
c1 <- 50  #cost of psu
c2 <- 0.5   #cost of ssu
#Guidelines for number of psus and ssus
m_opt <- sqrt((c1/c2)*((M_bar*(N-1))/(M_bar*N-1))*((1-Ra2)/Ra2))
m_opt
n_opt <- C/(c1 + c2*m_opt)
n_opt
# From discussion
# Estimate of proportion
p_hat <- sum(Mi*(count_smoker/mi))/sum(Mi)   #same as above
# Standard error for proportion:
M_bar <- mean(Mi)
si2 <- aggregate(smokr~sch, data=smoker_df, FUN=var)$smoker
MSW <- sum(si2*(mi-1))/(sum(mi) - n)   #estimated MSW
MSW
S2 <- sum((smoker_df$smoker - p_hat)^2)/(sum(mi) - 1)   #estimate S2
S2
Ra2 <- 1 - MSW/S2   #estimated Ra2
Ra2
N <- 35   #number of wards at new hospital
M_bar <- mean(Mi)   #estimate the mean ward size by the wards in our sample
C <- 300 #budget
c1 <- 50  #cost of psu
c2 <- 0.5   #cost of ssu
#Guidelines for number of psus and ssus
m_opt <- sqrt((c1/c2)*((M_bar*(N-1))/(M_bar*N-1))*((1-Ra2)/Ra2))
m_opt
n_opt <- C/(c1 + c2*m_opt)
n_opt
S2 <- sum((smoker_df$smokr - p_hat)^2)/(sum(mi) - 1)   #estimate S2
# From discussion
# Estimate of proportion
p_hat <- sum(Mi*(count_smoker/mi))/sum(Mi)   #same as above
# Standard error for proportion:
M_bar <- mean(Mi)
si2 <- aggregate(smokr~sch, data=smoker_df, FUN=var)$smoker
MSW <- sum(si2*(mi-1))/(sum(mi) - n)   #estimated MSW
MSW
S2 <- sum((smoker_df$smokr - p_hat)^2)/(sum(mi) - 1)   #estimate S2
S2
Ra2 <- 1 - MSW/S2   #estimated Ra2
Ra2
N <- 35   #number of wards at new hospital
M_bar <- mean(Mi)   #estimate the mean ward size by the wards in our sample
C <- 300 #budget
c1 <- 50  #cost of psu
c2 <- 0.5   #cost of ssu
#Guidelines for number of psus and ssus
m_opt <- sqrt((c1/c2)*((M_bar*(N-1))/(M_bar*N-1))*((1-Ra2)/Ra2))
m_opt
n_opt <- C/(c1 + c2*m_opt)
n_opt
# From discussion
# Estimate of proportion
p_hat <- sum(Mi*(count_smoker/mi))/sum(Mi)   #same as above
# Standard error for proportion:
M_bar <- mean(Mi)
si2 <- aggregate(smokr~sch, data=smoker_df, FUN=var)$smokr
MSW <- sum(si2*(mi-1))/(sum(mi) - n)   #estimated MSW
MSW
S2 <- sum((smoker_df$smokr - p_hat)^2)/(sum(mi) - 1)   #estimate S2
S2
Ra2 <- 1 - MSW/S2   #estimated Ra2
Ra2
N <- 35   #number of wards at new hospital
M_bar <- mean(Mi)   #estimate the mean ward size by the wards in our sample
C <- 300 #budget
c1 <- 50  #cost of psu
c2 <- 0.5   #cost of ssu
#Guidelines for number of psus and ssus
m_opt <- sqrt((c1/c2)*((M_bar*(N-1))/(M_bar*N-1))*((1-Ra2)/Ra2))
m_opt
n_opt <- C/(c1 + c2*m_opt)
n_opt
# From discussion
# Estimate of proportion
p_hat <- sum(Mi*(count_smoker/mi))/sum(Mi)   #same as above
# Standard error for proportion:
M_bar <- mean(Mi)
si2 <- aggregate(smokr~sch, data=smoker_df, FUN=var)$smokr
MSW <- sum(si2*(mi-1))/(sum(mi) - n)   #estimated MSW
#MSW
S2 <- sum((smoker_df$smokr - p_hat)^2)/(sum(mi) - 1)   #estimate S2
#S2
Ra2 <- 1 - MSW/S2   #estimated Ra2
#Ra2
N <- 35   #number of wards at new hospital
M_bar <- mean(Mi)   #estimate the mean ward size by the wards in our sample
C <- 300 #budget
c1 <- 50  #cost of psu
c2 <- 0.5   #cost of ssu
#Guidelines for number of psus and ssus
m_opt <- sqrt((c1/c2)*((M_bar*(N-1))/(M_bar*N-1))*((1-Ra2)/Ra2))
m_opt
n_opt <- C/(c1 + c2*m_opt)
n_opt
cat("The optimized value of m, the number of SSU, is, " ceiling(m_opt))
cat("The optimized value of m, the number of SSU, is, " ceil(m_opt))
cat("The optimized value of m, the number of SSU, is, " ceiling(m_opt))
cat("The optimized value of m, the number of SSU, is, ", ceiling(m_opt))
cat("The optimized value of m, the number of SSU, is", ceiling(m_opt))
# From discussion
# Estimate of proportion
p_hat <- sum(Mi*(count_smoker/mi))/sum(Mi)   #same as above
# Standard error for proportion:
M_bar <- mean(Mi)
si2 <- aggregate(smokr~sch, data=smoker_df, FUN=var)$smokr
MSW <- sum(si2*(mi-1))/(sum(mi) - n)   #estimated MSW
#MSW
S2 <- sum((smoker_df$smokr - p_hat)^2)/(sum(mi) - 1)   #estimate S2
#S2
Ra2 <- 1 - MSW/S2   #estimated Ra2
#Ra2
N <- 35   #number of wards at new hospital
M_bar <- mean(Mi)   #estimate the mean ward size by the wards in our sample
C <- 300 #budget
c1 <- 50  #cost of psu
c2 <- 0.5   #cost of ssu
#Guidelines for number of psus and ssus
m_opt <- sqrt((c1/c2)*((M_bar*(N-1))/(M_bar*N-1))*((1-Ra2)/Ra2))
cat("The optimized value of m, the number of SSUs, is", ceiling(m_opt))
n_opt <- C/(c1 + c2*m_opt)
cat("The optimized value of n, the number of PSUs, is", ceiling(n_opt))
# From discussion
# Estimate of proportion
p_hat <- sum(Mi*(count_smoker/mi))/sum(Mi)   #same as above
# Standard error for proportion:
M_bar <- mean(Mi)
si2 <- aggregate(smokr~sch, data=smoker_df, FUN=var)$smokr
MSW <- sum(si2*(mi-1))/(sum(mi) - n)   #estimated MSW
#MSW
S2 <- sum((smoker_df$smokr - p_hat)^2)/(sum(mi) - 1)   #estimate S2
#S2
Ra2 <- 1 - MSW/S2   #estimated Ra2
#Ra2
N <- 35   #number of wards at new hospital
M_bar <- mean(Mi)   #estimate the mean ward size by the wards in our sample
C <- 300 #budget
c1 <- 50  #cost of psu
c2 <- 0.5   #cost of ssu
#Guidelines for number of psus and ssus
m_opt <- sqrt((c1/c2)*((M_bar*(N-1))/(M_bar*N-1))*((1-Ra2)/Ra2))
cat("The optimized value of m, the number of SSUs, is", ceiling(m_opt), "\n")
n_opt <- C/(c1 + c2*m_opt)
cat("The optimized value of n, the number of PSUs, is", ceiling(n_opt))
# From discussion
# Estimate of proportion
p_hat <- sum(Mi*(count_smoker/mi))/sum(Mi)   #same as above
# Standard error for proportion:
M_bar <- mean(Mi)
si2 <- aggregate(smokr~sch, data=smoker_df, FUN=var)$smokr
MSW <- sum(si2*(mi-1))/(sum(mi) - n)   #estimated MSW
#MSW
S2 <- sum((smoker_df$smokr - p_hat)^2)/(sum(mi) - 1)   #estimate S2
#S2
Ra2 <- 1 - MSW/S2   #estimated Ra2
#Ra2
N <- 35   #number of wards at new hospital
M_bar <- mean(Mi)   #estimate the mean ward size by the wards in our sample
C <- 300 #budget
c1 <- 50  #cost of psu
c2 <- 0.5   #cost of ssu
#Guidelines for number of psus and ssus
m_opt <- sqrt((c1/c2)*((M_bar*(N-1))/(M_bar*N-1))*((1-Ra2)/Ra2))
cat("The optimized value of m, the number of SSUs, is", ceiling(m_opt), ".\n")
n_opt <- C/(c1 + c2*m_opt)
cat("The optimized value of n, the number of PSUs, is", ceiling(n_opt), ".")
that_psi = 1/10 * sum(states[samp_clust,]$counties / psi_vector[samp_clust])
ceiling(that_psi)
est_var_that_psi= (1 /10) * (1/9) *sum((states[samp_clust,]$counties / psi_vector[samp_clust] - that_psi)^2)
sqrt(est_var_that_psi)
# True value
sum(states$counties)
setwd("C:/Users/Gianni/Documents/Github/MStats/STA144/Final")
nhanes <- read.csv("nhanes.csv")
nhanes
colMeans(nhanes)
nhanes <- read.csv("nhanes.csv")
head(nhanes)
colMeans(nhanes)
head(nhanes)
colMeans(nhanes["bmxwt", "bmxbmi", "bmxwaist", "bmxthicr"])
nhanes["bmxwt", "bmxbmi", "bmxwaist", "bmxthicr"]
head(nhanes)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")]
colMeans(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")])
colMeans(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")])
head(nhanes)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
# change characters to numerics
library(dplyr)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
colMeans(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")])
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric)) %>% na.omit()
colMeans(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")])
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric)) %>% drop_na()
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric)) %>% na.omit()
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric)) %>% na.omit()
nhanes <- read.csv("nhanes.csv")
head(nhanes)
# change characters to numerics
library(dplyr)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric)) %>% na.omit()
# Remove NAs
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% na.omit()
colMeans(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")])
nhanes <- read.csv("nhanes.csv")
head(nhanes)
# change characters to numerics
library(dplyr)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
# Remove NAs
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% na.omit()
# Remove NAs
nhanes <-
nhanes %>% na.omit()
colMeans(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")])
# Means
mean(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")])
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
head(nhanes)
(nhanes
nhanes
nhanes
nhanes <- read.csv("nhanes.csv")
head(nhanes)
# change characters to numerics
library(dplyr)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
subset <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")]
# Remove NAs
# nhanes <-
#   nhanes %>% na.omit()
subset <- subset %>% na.omit()
# Means
#sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
sapply(subset, mean)
nhanes <- read.csv("nhanes.csv")
head(nhanes)
# change characters to numerics
library(dplyr)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
subset <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")]
# Remove NAs
nhanes <-
nhanes %>% na.omit()
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
nhanes <- read.csv("nhanes.csv")
head(nhanes)
# change characters to numerics
library(dplyr)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
subset <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")]
# Remove NAs
nhanes <-
nhanes %>% na.omit()
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], sd)
mean(nhanes$bmxbmi)
nhanes <- read.csv("nhanes.csv", na=".")
head(nhanes)
# change characters to numerics
library(dplyr)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
subset <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")]
# Remove NAs
nhanes <-
nhanes %>% na.omit()
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], sd)
nhanes <- read.csv("nhanes.csv", na=".")
head(nhanes)
# change characters to numerics
library(dplyr)
nhanes <-
nhanes %>% na.omit()
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
subset <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")]
# Remove NAs
# nhanes <-
#   nhanes %>% na.omit()
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], sd)
nhanes <- read.csv("nhanes.csv")
nhanes <- read.csv("nhanes.csv")
head(nhanes)
# change characters to numerics
library(dplyr)
nhanes <-
nhanes %>% na.omit()
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
subset <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")]
# Remove NAs
# nhanes <-
#   nhanes %>% na.omit()
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], sd)
nhanes <-
nhanes %>% na.omit()
nhanes <- read.csv("nhanes.csv")
head(nhanes)
# change characters to numerics
library(dplyr)
nhanes <-
nhanes %>% na.omit()
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
subset <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")]
# Remove NAs
nhanes <-
nhanes %>% na.omit()
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], sd)
nhanes <- read.csv("nhanes.csv")
head(nhanes)
# change characters to numerics
library(dplyr)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
subset <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")]
# Remove NAs
nhanes <-
nhanes %>% na.omit()
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], sd)
nhanes <- read.csv("nhanes.csv")
head(nhanes)
# change characters to numerics
library(dplyr)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
subset <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")]
# Remove NAs
nhanes <-
nhanes %>% na.omit()
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], sd)
nhanes <- read.csv("nhanes.csv")
head(nhanes)
nhanes <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr", "age", "sdmvstra")]
# change characters to numerics
library(dplyr)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
subset <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")]
# Remove NAs
nhanes <-
nhanes %>% na.omit()
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], sd)
# nhanes <-
#   nhanes %>% na.omit()
nhanes <- read.csv("nhanes.csv")
head(nhanes)
nhanes <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr", "age", "sdmvstra")]
# change characters to numerics
library(dplyr)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
subset <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")]
# Remove NAs
# nhanes <-
#   nhanes %>% na.omit()
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], sd)
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
nhanes <- read.csv("nhanes.csv")
head(nhanes)
nhanes <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr", "age", "sdmvstra")]
# change characters to numerics
library(dplyr)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
# Remove NAs
# nhanes <-
#   nhanes %>% na.omit()
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], sd)
nhanes <- read.csv("nhanes.csv")
head(nhanes)
nhanes <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr", "age", "sdmvstra")]
# change characters to numerics
library(dplyr)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
# Remove NAs
nhanes <-
nhanes %>% na.omit()
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], sd)
nhanes
which(is.na(nhanes), arr.ind = TRUE)
nhanes <- read.csv("nhanes.csv")
head(nhanes)
nhanes <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr", "age", "sdmvstra")]
# change characters to numerics
library(dplyr)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
which(is.na(nhanes), arr.ind = TRUE)
# Remove NAs
nhanes <-
nhanes %>% na.omit()
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], sd)
nhanes <- read.csv("nhanes.csv")
head(nhanes)
nhanes <- nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr", "age", "sdmvstra")]
# change characters to numerics
library(dplyr)
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] <-
nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")] %>% mutate(across(where(is.character), as.numeric))
which(is.na(nhanes))
# Remove NAs
nhanes <-
nhanes %>% na.omit()
# Means
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], mean)
sapply(nhanes[, c("bmxwt", "bmxbmi", "bmxwaist", "bmxthicr")], sd)
